<main>
    <header class="header-detalles">
        <img  src="https://videos.openai.com/vg-assets/assets%2Ftask_01jsmd346xf2d8rdzjdtxywtza%2Fimg_0.webp?st=2025-04-24T17%3A24%3A08Z&se=2025-04-30T18%3A24%3A08Z&sks=b&skt=2025-04-24T17%3A24%3A08Z&ske=2025-04-30T18%3A24%3A08Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=3d249c53-07fa-4ba4-9b65-0bf8eb4ea46a&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=A8YpizIqKjiZ%2BgF2Yz3ENj7B1m0yOGf0FvcKQmXonQ0%3D&az=oaivgprodscus" alt="Logo" class="logo-detalles">
    </header>
    <mat-horizontal-stepper [linear]="true" #stepper>
        <!-- Paso 1: Información Personal -->
        <mat-step [stepControl]="personalInfoForm">
          <form [formGroup]="personalInfoForm">
            <ng-template matStepLabel>Información Personal</ng-template>
            <mat-form-field appearance="fill">
              <mat-label>Nombre</mat-label>
              <input matInput formControlName="firstName" placeholder="Ingresa tu nombre">
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Apellido</mat-label>
              <input matInput formControlName="lastName" placeholder="Ingresa tu apellido">
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Correo Electrónico</mat-label>
              <input matInput formControlName="email" placeholder="Ingresa tu correo">
            </mat-form-field>
            <div>
              <button mat-button matStepperNext [disabled]="!personalInfoForm.valid">Siguiente</button>
            </div>
          </form>
        </mat-step>
      
        <!-- Paso 2: Dirección -->
        <mat-step [stepControl]="addressForm">
          <form [formGroup]="addressForm">
            <ng-template matStepLabel>Dirección</ng-template>
            <mat-form-field appearance="fill">
              <mat-label>Calle</mat-label>
              <input matInput formControlName="street" placeholder="Ingresa tu calle">
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Ciudad</mat-label>
              <input matInput formControlName="city" placeholder="Ingresa tu ciudad">
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Código Postal</mat-label>
              <input matInput formControlName="zipCode" placeholder="Ingresa tu código postal">
            </mat-form-field>
            <div>
              <button mat-button matStepperPrevious>Anterior</button>
              <button mat-button matStepperNext [disabled]="!addressForm.valid">Siguiente</button>
            </div>
          </form>
        </mat-step>
      
        <!-- Paso 3: Resumen del Pedido -->
        <mat-step>
          <ng-template matStepLabel>Resumen del Pedido</ng-template>
          <div class="order-summary">
            <h3>Resumen del Pedido</h3>
            <mat-card *ngIf="cartItems.length > 0"> <!-- Mostrar solo si hay un producto -->
              <mat-card-title>{{ cartItems[0].name }}</mat-card-title>
              <mat-card-content>
                <p>Cantidad: {{ cartItems[0].quantity }}</p>
                <p>Precio: ${{ cartItems[0].price }}</p>
              </mat-card-content>
            </mat-card>
            <h4 *ngIf="cartItems.length > 0">Total: ${{ getTotal() }}</h4>
            <p *ngIf="cartItems.length === 0">No hay productos en el carrito.</p>
          </div>
          <div>
            <button mat-button matStepperPrevious>Anterior</button>
            <button mat-button color="primary" (click)="placeOrder()" [disabled]="cartItems.length === 0">Finalizar Pedido</button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
</main>
